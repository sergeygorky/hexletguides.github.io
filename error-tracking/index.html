<!DOCTYPE html>
<html lang="ru_RU">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="icon" href="/assets/images/favicons/favicon-128.png">

    
      <link rel="amphtml" href="https://guides.hexlet.io/amp/error-tracking">
    

    <title>Что такое трекинг ошибок? | Гайды для программистов</title>

    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Что такое трекинг ошибок? | Гайды для программистов</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Что такое трекинг ошибок?" />
<meta name="author" content="Кирилл Мокевнин" />
<meta property="og:locale" content="ru_RU" />
<meta name="description" content="Код любого приложения содержит ошибки. В отличии от среды разработки, ошибки в реально работающем приложении возникают тогда, когда их не ждешь. В правильно настроенных системах программисты узнают об этих ошибках сразу, как только они произошли, а не когда об этом сказал клиент. Делается это с помощью сервисов трекинга ошибок." />
<meta property="og:description" content="Код любого приложения содержит ошибки. В отличии от среды разработки, ошибки в реально работающем приложении возникают тогда, когда их не ждешь. В правильно настроенных системах программисты узнают об этих ошибках сразу, как только они произошли, а не когда об этом сказал клиент. Делается это с помощью сервисов трекинга ошибок." />
<link rel="canonical" href="https://guides.hexlet.io/error-tracking/" />
<meta property="og:url" content="https://guides.hexlet.io/error-tracking/" />
<meta property="og:site_name" content="Гайды для программистов" />
<meta property="og:image" content="https://guides.hexlet.io/assets/images/hosting/servers.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-01-18T00:00:00+00:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://guides.hexlet.io/assets/images/hosting/servers.png" />
<meta property="twitter:title" content="Что такое трекинг ошибок?" />
<script type="application/ld+json">
{"@type":"BlogPosting","description":"Код любого приложения содержит ошибки. В отличии от среды разработки, ошибки в реально работающем приложении возникают тогда, когда их не ждешь. В правильно настроенных системах программисты узнают об этих ошибках сразу, как только они произошли, а не когда об этом сказал клиент. Делается это с помощью сервисов трекинга ошибок.","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://guides.hexlet.io/assets/images/hexlet_logo.png"},"name":"Кирилл Мокевнин"},"headline":"Что такое трекинг ошибок?","dateModified":"2021-01-18T00:00:00+00:00","datePublished":"2021-01-18T00:00:00+00:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://guides.hexlet.io/error-tracking/"},"url":"https://guides.hexlet.io/error-tracking/","author":{"@type":"Person","name":"Кирилл Мокевнин"},"image":"https://guides.hexlet.io/assets/images/hosting/servers.png","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    
    

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KMJ8HKG');</script>
<!-- End Google Tag Manager -->




    <link href="/assets/css/theme.css" rel="stylesheet">

    <!-- custom CSS - Remove this if you don't use it or choose to customize the stylesheet with sass-->
    <link href="/assets/css/custom.css" rel="stylesheet">
    <link href="/assets/css/highlight.css" rel="stylesheet">
    <!-- custom CSS end-->

  </head>

  

  <body class="layout-post">

    

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KMJ8HKG"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->



    <!-- Menu Navigation
      ================================================== -->

      <div class="container mb-4">
        <div class="d-flex flex-wrap justify-content-center py-3">
          <a class="navbar-brand me-auto" href="/"><img width="30" alt="Code Basics logo" src="/assets/images/hexlet_logo.png"></a>
          <ul class="nav nav-pills">
            <li class="nav-item">
              <a class="nav-link" target="_blank" href="https://github.com/Hexlet/hexletguides.github.io">Исходный код</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" target="_blank" href="https://ru.hexlet.io/programs?utm_source=hexlet-guides&utm_medium=referral">Программы обучения</a>
            </li>
          </ul>
        </div>
      </div>

      <!-- Container
        ================================================== -->
        <main class="container">
          <div class="row">
  <div class="col-sm-8 mx-auto">
    <!-- Post Featured Image -->
    
    <!-- End Featured Image -->
    <div class="mainheading">
      <h1 class="posttitle">Что такое трекинг ошибок?</h1>
    </div>

    <!-- Post Content -->
    <div class="article-post">
      <p>Программ без ошибок не бывает. Их количество можно уменьшить с помощью системы типов, линтеров, тестов или даже целого отдела тестировщиков, но убрать совсем невозможно. Это реальность с которой мы живем и лучшее, что можно сделать, научиться эти ошибки отслеживать и быстро исправлять.</p>

<h2 id="как-не-надо-работать-с-ошибками">Как не надо работать с ошибками</h2>

<p>Как, часто, происходит в разработке. Программисты написали какой-то код, выпустили новую версию сайта/приложения и пошли дальше заниматься своими делами. В это время у некоторых пользователей обнаруживаются проблемы: что-то зависает, формы не отправляются, данные отображаются неправильно и так далее. Такое может продолжаться довольно долго, пока кто-то разгневанный не напишет письмо в службу поддержки. Затем по цепочке это долетает до программистов, которые пытаются понять у кого произошла ошибка, где она случилась, и при каких обстоятельствах. Начинаются выяснения всех подробностей с вероятным привлечением клиента, если тот согласится помочь. При таком подходе, большое количество ошибок остается незамеченным очень долго и, самое неприятное, пользователи уходят. Можно ли этого избежать? Оказывается можно.</p>

<h2 id="как-надо-работать-с-ошибками">Как надо работать с ошибками</h2>

<p>Существует целый класс сервисов называемых Error Trackers. Они в реальном времени собирают информацию о возникающих ошибках и оповещают об этом команду разработки. Эти сервисы работают буквально со всеми существующими платформами начиная от телевизоров, заканчивая мобильными приложениями и сайтами (и фронтенд и бекенд).</p>

<p><img src="/assets/images/error-tracking/rollbar-dashboard.jpg" alt="Rollbar Dashboard" /></p>

<p>Выше пример дашборда сервиса <a href="https://rollbar.io/">rollbar.io</a>, который используется для всех проектов Хекслета. На дашборде выводится частота появления критичных ошибок за последние 24 часа по всем проектам. Этот график позволяет быстро оценить места, куда нужно внимательнее смотреть. А ниже вывод ошибок конкретного проекта. Судя по иконкам, большая часть ошибок прямо сейчас приходит из JavaScript.</p>

<p><img src="/assets/images/error-tracking/rollbar-project.jpg" alt="Rollbar Project" /></p>

<p>Каждый такой сервис сервис предоставляет библиотеки под разные языки и платформы, которые встраиваются в код и вызываются в случае возникновении ошибок. Эти библиотеки отправляют не только саму ошибку, но и информацию об окружении, которая может помочь. В нее могут входить данные о пользователе, о его браузере, о настройках приложения и так далее.</p>

<p>В идеальном случае такая библиотека сразу <a href="https://docs.rollbar.com/docs/rails">интегрирована</a> в какой-нибудь фреймворк, например Rails. Тогда не придется практически ничего настраивать, достаточно подключить библиотеку как плагин к фреймворку и дальше он начнет собирать ошибки сам, без дополнительного вмешательства. Если такой интеграции нет, то придется написать немного кода для связи своего приложения с библиотекой. Подробнее о том как это сделать, нужно смотреть в документации выбранного вами сервиса. <a href="https://docs.rollbar.com/docs/react">Вот</a> пример интеграции Rollbar в React. После того как все заработает, пойманная ошибка будет выглядеть примерно так:</p>

<p><img src="/assets/images/error-tracking/rollbar-error.jpg" alt="Rollbar Error" /></p>

<p>Обратите внимание на меню сверху. По названиям вкладок видно сколько полезного извлекается из ошибки.</p>

<p>Но поймать ошибку это только половина дела. Дальше нужно как-то оповестить команду, причем так, чтобы не завалить всех спамом. Дело в том, что ошибки обычно не происходят один раз. Если ошибка общая и количество пользователей большое, то можно легко поймать одну ошибку тысячи раз в минуту. И если бы на каждое возникновение уходила нотификация (на емейл или в слак), то такой сервис быстро бы отключили от источника питания.</p>

<p><img src="/assets/images/error-tracking/rollbar-notifications.jpg" alt="Rollbar Error" /></p>

<p>Поэтому подобные трекеры работают хитро. Когда ошибка произошла первый раз, то сервис высылает оповещение чтобы команда разработки могла оперативно среагировать на инцендент. Если ошибка возникает снова, то больше никаких оповещений. По крайней мере не на каждое возникновение. Оповещения например могут уходить на первое, десятое, сотое, тысячное и так далее возникновение. Это первая часть механизма. Дальше, когда выкатывается новая версия приложения, трекеры помечают ошибки как “поправленные”. Это позволяет легко отслеживать ошибки, которые либо забыли поправить, либо поправили неправильно. Поэтому обычно после деплоя начинают сыпаться оповещения) Для работы этого механизма нужно оповещать трекер о деплоях. Подробно об этом <a href="https://docs.rollbar.com/docs/deploy-tracking">написано в документации</a> соответствующего трекера.</p>

<h2 id="выводы">Выводы</h2>

<p>Трекеры ошибок не игрушка, а серьезный инструмент, без которого невозможно представить себе ни один продакшен. В качестве трекера, при этом, может выступать как один из многих сервисов, так и специализированный софт (например <a href="https://github.com/getsentry/sentry">Sentry</a>), установленный к себе на сервера в случае повышенных требований к безопасности.</p>

    </div>

    <div class="lead d-flex my-5">
      <span class="me-auto">
        <a href="https://github.com/Hexlet/hexletguides.github.io/tree/master/_posts/2021-01-18-error-tracking.md" target="_blank">
          Исходный код (github)
        </a>
      </span>
      
        <i>Кирилл Мокевнин</i>
      
    </div>

    <!-- Prev/Next -->
    <div class="row PageNavigation mt-4 prevnextlinks d-flex justify-content-between">
      
      <div class="col-md-6 rightborder pl-0">
        <a class="thepostlink" href="https://guides.hexlet.io/compiler/">&laquo; Что такое компилятор?</a>
      </div>
      
      
      <div class="col-md-6 text-right pr-0">
        <a class="thepostlink" href="https://guides.hexlet.io/hosting/">Что такое домен и хостинг? &raquo;</a>
      </div>
      
    </div>
    <!-- End Prev/Next -->

    <section>
      <div id="comments">
        <section class="disqus">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'hexlet-guides'; 
        var disqus_developer = 0;
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = window.location.protocol + '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>

      </div>
    </section>
  </div>
</div>

        </main>

        <!-- Footer
          ================================================== -->
          <footer class="footer container text-center">

            <ul class="p-0 mb-1 small">
              
              <li>
                <a href="https://ru.hexlet.io/courses" alt="Курсы" target="_blank">Курсы</a>
              </li>
              
              <li>
                <a href="https://cv.hexlet.io/" alt="Оценка резюме" target="_blank">Оценка резюме</a>
              </li>
              
              <li>
                <a href="https://codebattle.hexlet.io/" alt="Алгоритмическая прокачка" target="_blank">Алгоритмическая прокачка</a>
              </li>
              
            </ul>
          </footer>

          <!-- JavaScript
            ================================================== -->
            <script src="/assets/js/theme.js"></script>
  </body>
</html>
